<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Mario - Play Online</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            background: linear-gradient(180deg, #5C94FC 0%, #B0E0E6 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
        }
        .title {
            font-size: 48px;
            font-weight: bold;
            color: #FF0000;
            text-shadow: 4px 4px 0 #000;
            margin-bottom: 20px;
            animation: bounce 1s infinite;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        canvas {
            border: 5px solid #000;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }
        .controls {
            margin-top: 20px;
            background: rgba(255,255,255,0.9);
            padding: 15px 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .controls p {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <h1 class="title">SUPER MARIO</h1>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <div class="controls">
        <p>ðŸŽ® Controls: Arrow Keys to Move | Space to Jump</p>
        <p>ðŸŽ¯ Collect coins and avoid enemies!</p>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        // Game variables
        const GRAVITY = 0.6;
        const JUMP_STRENGTH = -12;
        let score = 0;
        let gameOver = false;

        // Player object
        const player = {
            x: 100,
            y: 400,
            width: 40,
            height: 50,
            velX: 0,
            velY: 0,
            speed: 5,
            jumping: false,
            direction: 'right'
        };

        // Platforms
        const platforms = [
            {x: 0, y: 550, width: 800, height: 50}, // Ground
            {x: 200, y: 450, width: 150, height: 20},
            {x: 450, y: 350, width: 150, height: 20},
            {x: 650, y: 250, width: 150, height: 20}
        ];

        // Coins
        let coins = [
            {x: 250, y: 400, collected: false},
            {x: 500, y: 300, collected: false},
            {x: 700, y: 200, collected: false}
        ];

        // Enemies
        let enemies = [
            {x: 400, y: 520, width: 30, height: 30, velX: 2}
        ];

        // Input handling
        const keys = {};
        window.addEventListener('keydown', (e) => {
            keys[e.key] = true;
            if (e.key === ' ' || e.key === 'ArrowUp') {
                if (!player.jumping) {
                    player.velY = JUMP_STRENGTH;
                    player.jumping = true;
                }
            }
        });
        window.addEventListener('keyup', (e) => {
            keys[e.key] = false;
        });

        // Draw functions
        function drawPlayer() {
            // Mario body (red)
            ctx.fillStyle = '#FF0000';
            ctx.fillRect(player.x, player.y + 10, player.width, 25);
            
            // Mario head (skin color)
            ctx.fillStyle = '#FFCC99';
            ctx.fillRect(player.x + 5, player.y, 30, 15);
            
            // Hat (red)
            ctx.fillStyle = '#FF0000';
            ctx.fillRect(player.x, player.y - 5, player.width, 8);
            
            // Overalls (blue)
            ctx.fillStyle = '#0000FF';
            ctx.fillRect(player.x + 5, player.y + 35, 15, 15);
            ctx.fillRect(player.x + 20, player.y + 35, 15, 15);
            
            // Eyes
            ctx.fillStyle = '#000';
            ctx.fillRect(player.x + 15, player.y + 5, 3, 3);
            ctx.fillRect(player.x + 25, player.y + 5, 3, 3);
            
            // Mustache
            ctx.fillRect(player.x + 10, player.y + 10, 20, 3);
        }

        function drawPlatforms() {
            ctx.fillStyle = '#8B4513';
            platforms.forEach(platform => {
                ctx.fillRect(platform.x, platform.y, platform.width, platform.height);
                // Add texture
                ctx.strokeStyle = '#654321';
                for(let i = 0; i < platform.width; i += 20) {
                    ctx.strokeRect(platform.x + i, platform.y, 20, platform.height);
                }
            });
        }

        function drawCoins() {
            coins.forEach(coin => {
                if (!coin.collected) {
                    ctx.fillStyle = '#FFD700';
                    ctx.beginPath();
                    ctx.arc(coin.x, coin.y, 10, 0, Math.PI * 2);
                    ctx.fill();
                    // Coin shine
                    ctx.fillStyle = '#FFFF00';
                    ctx.beginPath();
                    ctx.arc(coin.x - 3, coin.y - 3, 3, 0, Math.PI * 2);
                    ctx.fill();
                }
            });
        }

        function drawEnemies() {
            enemies.forEach(enemy => {
                // Goomba-like enemy
                ctx.fillStyle = '#8B4513';
                ctx.fillRect(enemy.x, enemy.y, enemy.width, enemy.height);
                // Eyes
                ctx.fillStyle = '#FFF';
                ctx.fillRect(enemy.x + 5, enemy.y + 5, 8, 8);
                ctx.fillRect(enemy.x + 17, enemy.y + 5, 8, 8);
                ctx.fillStyle = '#000';
                ctx.fillRect(enemy.x + 7, enemy.y + 7, 4, 4);
                ctx.fillRect(enemy.x + 19, enemy.y + 7, 4, 4);
            });
        }

        function drawScore() {
            ctx.fillStyle = '#FFF';
            ctx.font = 'bold 24px Arial';
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 3;
            ctx.strokeText('Score: ' + score, 10, 30);
            ctx.fillText('Score: ' + score, 10, 30);
        }

        // Update functions
        function updatePlayer() {
            // Horizontal movement
            if (keys['ArrowLeft']) {
                player.velX = -player.speed;
                player.direction = 'left';
            } else if (keys['ArrowRight']) {
                player.velX = player.speed;
                player.direction = 'right';
            } else {
                player.velX = 0;
            }

            // Apply gravity
            player.velY += GRAVITY;
            
            // Update position
            player.x += player.velX;
            player.y += player.velY;

            // Boundary check
            if (player.x < 0) player.x = 0;
            if (player.x + player.width > canvas.width) player.x = canvas.width - player.width;

            // Platform collision
            player.jumping = true;
            platforms.forEach(platform => {
                if (player.x < platform.x + platform.width &&
                    player.x + player.width > platform.x &&
                    player.y + player.height >= platform.y &&
                    player.y + player.height <= platform.y + platform.height &&
                    player.velY >= 0) {
                    player.y = platform.y - player.height;
                    player.velY = 0;
                    player.jumping = false;
                }
            });

            // Coin collision
            coins.forEach(coin => {
                if (!coin.collected) {
                    const dist = Math.sqrt(
                        Math.pow(player.x + player.width/2 - coin.x, 2) +
                        Math.pow(player.y + player.height/2 - coin.y, 2)
                    );
                    if (dist < 25) {
                        coin.collected = true;
                        score += 10;
                    }
                }
            });

            // Enemy collision
            enemies.forEach(enemy => {
                if (player.x < enemy.x + enemy.width &&
                    player.x + player.width > enemy.x &&
                    player.y < enemy.y + enemy.height &&
                    player.y + player.height > enemy.y) {
                    if (score > 0) score -= 5;
                }
            });
        }

        function updateEnemies() {
            enemies.forEach(enemy => {
                enemy.x += enemy.velX;
                if (enemy.x <= 0 || enemy.x >= canvas.width - enemy.width) {
                    enemy.velX *= -1;
                }
            });
        }

        // Game loop
        function gameLoop() {
            // Clear canvas
            ctx.fillStyle = '#5C94FC';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw clouds
            ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
            ctx.beginPath();
            ctx.arc(150, 100, 30, 0, Math.PI * 2);
            ctx.arc(180, 100, 40, 0, Math.PI * 2);
            ctx.arc(210, 100, 30, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.beginPath();
            ctx.arc(550, 150, 30, 0, Math.PI * 2);
            ctx.arc(580, 150, 40, 0, Math.PI * 2);
            ctx.arc(610, 150, 30, 0, Math.PI * 2);
            ctx.fill();

            // Update
            updatePlayer();
            updateEnemies();

            // Draw
            drawPlatforms();
            drawCoins();
            drawEnemies();
            drawPlayer();
            drawScore();

            requestAnimationFrame(gameLoop);
        }

        // Start game
        gameLoop();
    </script>
</body>
</html>
